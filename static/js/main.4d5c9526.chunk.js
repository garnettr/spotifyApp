(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),s=a.n(c),i=(a(15),a(2)),o=a(3),l=a(5),u=a(4),m=a(6),p=a(1),d=a(7),h=["user-top-read","user-follow-read","user-library-read","user-read-currently-playing","user-read-recently-played","user-modify-playback-state","user-read-playback-state"],f=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var b=f,g=(a(16),function(e){e.searchItem.items;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{onKeyUp:e.handleNewSearch,type:"text",placeholder:"Search For Your Artist"}))}),k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchItem,a=e.updateTrackId;return n.a.createElement("div",{className:"searchedItems-wrapper imagesWrapper"},t.length>0?t.map(function(e,t){return n.a.createElement("a",{href:"#",onClick:function(t){return a("album",e.album.id,e.album.images[1].url)}},n.a.createElement("img",{src:e.album.images[1].url}))}):n.a.createElement("div",{id:"empty-list"},n.a.createElement("p",null,"Your Searched Album List is Empty")))}}]),t}(n.a.Component),y=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.topTracks,a=e.updateTrackId;return n.a.createElement("div",{className:"likedTracks-Wrapper imagesWrapper"},n.a.createElement("h4",null,"Liked Tracks"),t.length>0?t.map(function(e,t){return n.a.createElement("a",{href:"#",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)}},n.a.createElement("img",{src:e.track.album.images[2].url}))}):n.a.createElement("h2",null,"Top Tracks"))}}]),t}(n.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.recentlyPlayed,a=e.updateTrackId;return n.a.createElement("div",{className:"recentlyPlayed-Wrapper imagesWrapper"},n.a.createElement("h4",null,"Recently Played"),t.length>0?t.map(function(e,t){return n.a.createElement("a",{href:"#",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)}},n.a.createElement("img",{src:e.track.album.images[2].url}))}):n.a.createElement("h2",null,"Recently placed"))}}]),t}(n.a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.TrackInfo;return n.a.createElement(n.a.Fragment,null,e.TrackId.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"nowPlaying-image"},n.a.createElement("img",{src:e.images})),n.a.createElement("iframe",{src:"https://open.spotify.com/embed/".concat(e.trackOrAlbum,"/").concat(e.TrackId),width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})))}}]),t}(n.a.Component),j=(a(17),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isToggleOn:!1},a.updateBkg=a.updateBkg.bind(Object(p.a)(Object(p.a)(a))),a.toggleBkg=a.toggleBkg.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleBkg",value:function(){var e=this;this.setState(function(e){return{isToggleOn:!e.isToggleOn}},function(){e.updateBkg(e.state.isToggleOn)})}},{key:"updateBkg",value:function(e){var t=document.body;t.className=1==e?"vibesOn":"vibesOff"}},{key:"render",value:function(){var e=this.props.userInfo;return n.a.createElement("div",{className:"welcome-wrapper"},n.a.createElement("div",{className:"welcome-content"},n.a.createElement("button",{onClick:this.toggleBkg},this.state.isToggleOn?"Vibes Off":"Vibes On"),n.a.createElement("span",null,e.images.length>0?n.a.createElement("img",{src:e.images[0].url}):"",n.a.createElement("p",null,"Welcome ",e.display_name))))}}]),t}(n.a.Component)),E=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleNewSearch=function(t){b.access_token;if("Enter"===t.key){var a={artist:t.target.value,complete:!1};e.setNewSearch(a)}},e.setNewSearch=function(t){var a=b.access_token;e.setState({artist_search:t},function(){e.grabCurrentSearch(a)})},e.grabCurrentSearch=function(t){var a=e.state.artist_search,r=d.ajax({url:"https://api.spotify.com/v1/search?q=".concat(a.artist,"&type=track%2Cartist&market=US&limit=10&offset=5"),type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){e.setState({searchItem:t.tracks.items},function(){console.log(t)})}});d.when(r).done(function(e){})},e.state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},userInfo:{images:[{url:""}],display_name:""},searchItem:[],topTracks:[],recentlyPlayed:[],TrackInfo:{trackOrAlbum:"",TrackId:"",images:[{url:""}]},artist_search:"",is_playing:"Paused",progress_ms:0},e.getCurrentlyPlaying=e.getCurrentlyPlaying.bind(Object(p.a)(Object(p.a)(e))),e.grabCurrentSearch=e.grabCurrentSearch.bind(Object(p.a)(Object(p.a)(e))),e.setNewSearch=e.setNewSearch.bind(Object(p.a)(Object(p.a)(e))),e.updateTrackId=e.updateTrackId.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=b.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e))}},{key:"updateTrackId",value:function(e,t,a){this.setState({TrackInfo:{trackOrAlbum:e,TrackId:t,images:a}})}},{key:"getCurrentlyPlaying",value:function(e){var t=this,a=d.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){console.log(e)}}),r=d.ajax({url:"https://api.spotify.com/v1/me/tracks",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({topTracks:e.items})}});d.ajax({url:"https://api.spotify.com/v1/me",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({userInfo:e})}}),d.ajax({url:"https://api.spotify.com/v1/me/player/recently-played",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({recentlyPlayed:e.items}),console.log(e)}}),d.ajax({url:"https://api.spotify.com/v1/me/player/play",type:"PUT",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({}),console.log(e)}});d.when(a,r).done(function(e,t){})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App-header"},!this.state.token&&n.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("f32e05acbde1489180850abfb7d16457","&redirect_uri=").concat("https://garnettr.github.io/spotifyApp/redirect","&scope=").concat(h.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),this.state.token&&n.a.createElement(n.a.Fragment,null,n.a.createElement(j,{userInfo:this.state.userInfo}),n.a.createElement("div",{className:"leftColumn"},n.a.createElement(g,{handleNewSearch:this.handleNewSearch,searchItem:this.state.searchItem}),n.a.createElement(v,{TrackInfo:this.state.TrackInfo})),n.a.createElement("div",{className:"rightColumn"},n.a.createElement(y,{topTracks:this.state.topTracks,updateTrackId:this.updateTrackId}),n.a.createElement(O,{recentlyPlayed:this.state.recentlyPlayed,updateTrackId:this.updateTrackId}),n.a.createElement(k,{searchItem:this.state.searchItem,updateTrackId:this.updateTrackId,TrackId:this.state.TrackId})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.4d5c9526.chunk.js.map