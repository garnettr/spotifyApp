(this["webpackJsonpreact-instafeed"]=this["webpackJsonpreact-instafeed"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),s=a(9),n=a.n(s),i=(a(14),a(2)),l=a(3),o=a(6),d=a(5),u=a(4),h=a(7),j=["user-top-read","user-follow-read","user-library-read","user-read-currently-playing","user-read-recently-played","user-modify-playback-state","user-read-playback-state"],b=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});window.location.hash="";var p=b,k=a(0),m=function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("input",{onKeyUp:e.handleNewSearch,type:"text",placeholder:"Search For Your Artist"})})},g=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchItem,a=e.updateTrackId;return Object(k.jsx)("div",{className:"searchedItems-wrapper imagesWrapper",children:t.length>0?t.map((function(e,t){return Object(k.jsx)("span",{className:"searchedContent",tabIndex:"0",role:"button",onClick:function(t){return a("album",e.album.id,e.album.images[1].url)},children:Object(k.jsx)("img",{alt:e.album.name,src:e.album.images[1].url})},e.album.id)})):Object(k.jsx)("div",{id:"empty-list"})})}}]),a}(c.a.Component),O=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={isToggleOn:!1},r.handleClick=r.handleClick.bind(Object(o.a)(r)),r}return Object(l.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{isToggleOn:!e.isToggleOn}}))}},{key:"render",value:function(){var e=this.props,t=e.topTracks,a=e.updateTrackId,r=e.likedTracksToggle;return Object(k.jsx)("section",{className:"likedTracks-Wrapper imagesWrapper",children:Object(k.jsxs)("figure",{className:r?"show":"hidden",children:[Object(k.jsxs)("span",{className:"trackHeader-container",children:[Object(k.jsx)("h4",{className:"likedTracks-Header",children:"Liked Tracks"}),Object(k.jsx)("button",{onClick:this.handleClick,children:this.state.isToggleOn?"Condense":"Show All"})]}),Object(k.jsxs)("div",{className:"tracksWrapper",children:[Object(k.jsx)("span",{children:t.map((function(e,t){return t<=4?Object(k.jsxs)("span",{className:"trackInfo-btn",tabIndex:"0",role:"button",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)},children:[Object(k.jsx)("img",{alt:e.track.artists[0].name,src:e.track.album.images[1].url}),Object(k.jsxs)("span",{children:[Object(k.jsx)("h4",{children:e.track.name}),Object(k.jsx)("p",{children:e.track.artists[0].name})]})]},e.track.id):null}))}),Object(k.jsx)("span",{className:this.state.isToggleOn?"shown":"hidden",children:t.map((function(e,t){return t>=5?Object(k.jsxs)("span",{className:"trackInfo-btn",tabIndex:"0",role:"button",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)},children:[Object(k.jsx)("img",{alt:e.track.artists[0].name,src:e.track.album.images[1].url}),Object(k.jsxs)("span",{children:[Object(k.jsx)("h4",{children:e.track.name}),Object(k.jsx)("p",{children:e.track.artists[0].name})]})]},e.track.id):null}))})]})]})})}}]),a}(c.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={isToggleOn:!1},r.handleClick=r.handleClick.bind(Object(o.a)(r)),r}return Object(l.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{isToggleOn:!e.isToggleOn}}))}},{key:"render",value:function(){var e=this.props,t=e.recentlyPlayed,a=e.updateTrackId,r=e.recentlyPlayedToggle;return Object(k.jsx)("section",{className:"recentlyPlayed-Wrapper imagesWrapper",children:Object(k.jsxs)("figure",{className:r?"show":"hidden",children:[Object(k.jsxs)("span",{className:"trackHeader-container",children:[Object(k.jsx)("h4",{className:"recentlyPlayed-Header",children:"Recently Played"}),Object(k.jsx)("button",{onClick:this.handleClick,children:this.state.isToggleOn?"Condense":"Show All"})]}),Object(k.jsxs)("div",{className:"tracksWrapper",children:[Object(k.jsx)("span",{children:t.map((function(e,t){return t<=4?Object(k.jsxs)("span",{className:"trackInfo-btn",tabIndex:"0",role:"button",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)},children:[Object(k.jsx)("img",{alt:e.track.artists[0].name,src:e.track.album.images[1].url}),Object(k.jsxs)("span",{children:[Object(k.jsx)("h4",{children:e.track.name}),Object(k.jsx)("p",{children:e.track.artists[0].name})]})]},e.track.id):null}))}),Object(k.jsx)("span",{className:this.state.isToggleOn?"Show":"hidden",children:t.map((function(e,t){return t>=5?Object(k.jsxs)("span",{className:"trackInfo-btn",tabIndex:"0",role:"button",onClick:function(t){return a("track",e.track.id,e.track.album.images[1].url)},children:[Object(k.jsx)("img",{alt:e.track.artists[0].name,src:e.track.album.images[1].url}),Object(k.jsxs)("span",{children:[Object(k.jsx)("h4",{children:e.track.name}),Object(k.jsx)("p",{children:e.track.artists[0].name})]})]},e.track.id):null}))})]})]})})}}]),a}(c.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.TrackInfo;return Object(k.jsx)(k.Fragment,{children:e.TrackId.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"nowPlaying-image",children:Object(k.jsx)("img",{alt:e.TrackId,src:e.images})}),Object(k.jsx)("iframe",{title:"spotify-player",src:"https://open.spotify.com/embed/".concat(e.trackOrAlbum,"/").concat(e.TrackId),width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})]})})}}]),a}(c.a.Component),x=(a(16),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.userInfo;return Object(k.jsx)("header",{className:"welcome-wrapper",children:Object(k.jsx)("div",{className:"welcome-content",children:Object(k.jsxs)("span",{children:[e.images.length>0?Object(k.jsx)("img",{alt:"yourProfile",src:e.images[0].url}):"",Object(k.jsxs)("p",{children:["Welcome ",e.display_name]})]})})})}}]),a}(c.a.Component)),T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showTracksToggle,a=e.showHideLikedTracks;return Object(k.jsx)("section",{children:Object(k.jsx)("button",{className:"btn",onClick:function(e){return t()},children:a?"Show Recently Played Tracks":"Show Liked Tracks"})})}}]),a}(c.a.Component),v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleNewSearch=function(t){p.access_token;if("Enter"===t.key){var a={artist:t.target.value,complete:!1};e.setNewSearch(a)}},e.setNewSearch=function(t){var a=p.access_token;e.setState({artist_search:t},(function(){e.grabCurrentSearch(a)}))},e.grabCurrentSearch=function(t){var a=e.state.artist_search,r=h.ajax({url:"https://api.spotify.com/v1/search?q=".concat(a.artist,"&type=track%2Cartist&market=US&limit=10&offset=5"),type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){e.setState({searchItem:t.tracks.items},(function(){}))}});h.when(r).done((function(e){}))},e.showTracksToggle=function(){e.setState((function(e){return{likedTracksToggle:!e.likedTracksToggle,recentlyPlayedToggle:!e.recentlyPlayedToggle}}))},e.state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},userInfo:{images:[{url:""}],display_name:""},searchItem:[],topTracks:[],recentlyPlayed:[],TrackInfo:{trackOrAlbum:"",TrackId:"",images:[{url:""}]},artist_search:"",is_playing:"Paused",progress_ms:0,likedTracksToggle:!0},e.getCurrentlyPlaying=e.getCurrentlyPlaying.bind(Object(o.a)(e)),e.grabCurrentSearch=e.grabCurrentSearch.bind(Object(o.a)(e)),e.setNewSearch=e.setNewSearch.bind(Object(o.a)(e)),e.updateTrackId=e.updateTrackId.bind(Object(o.a)(e)),e.showTracksToggle=e.showTracksToggle.bind(Object(o.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=p.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e))}},{key:"updateTrackId",value:function(e,t,a){this.setState({TrackInfo:{trackOrAlbum:e,TrackId:t,images:a}})}},{key:"getCurrentlyPlaying",value:function(e){var t=this,a=h.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){}}),r=h.ajax({url:"https://api.spotify.com/v1/me/tracks",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({topTracks:e.items})}});h.ajax({url:"https://api.spotify.com/v1/me",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({userInfo:e})}}),h.ajax({url:"https://api.spotify.com/v1/me/player/recently-played",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({recentlyPlayed:e.items}),console.log(e)}}),h.ajax({url:"https://api.spotify.com/v1/me/player/play",type:"PUT",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({}),console.log(e)}});h.when(a,r).done((function(e,t){}))}},{key:"render",value:function(){return Object(k.jsxs)(k.Fragment,{children:[!this.state.token&&Object(k.jsx)("section",{className:"introWrapper",children:Object(k.jsxs)("div",{className:"introContent",children:[Object(k.jsx)("h1",{children:"Hey."}),Object(k.jsxs)("p",{children:["This app is built using Spotify's open source API, allowing the user to securely sign in to their profile and view a custom dashboard.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"View your ",Object(k.jsx)("b",{children:"recently liked tracks, played artist "})," and includes a ",Object(k.jsx)("b",{children:"search feature."})]}),Object(k.jsx)("a",{className:"btn btn-dark",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("f32e05acbde1489180850abfb7d16457","&redirect_uri=").concat("http://localhost:3000/redirect","&scope=").concat(j.join("%20"),"&response_type=token&show_dialog=true"),children:"See how it works"})]})}),this.state.token&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x,{userInfo:this.state.userInfo}),Object(k.jsxs)("section",{className:"contentWrapper vibesoff",children:[Object(k.jsxs)("section",{className:"searchWrapper",children:[Object(k.jsx)(m,{handleNewSearch:this.handleNewSearch,searchItem:this.state.searchItem}),Object(k.jsx)(y,{TrackInfo:this.state.TrackInfo}),Object(k.jsx)(g,{searchItem:this.state.searchItem,updateTrackId:this.updateTrackId,TrackId:this.state.TrackId})]}),Object(k.jsxs)("section",{className:"likedTracksContent",children:[Object(k.jsx)(O,{topTracks:this.state.topTracks,updateTrackId:this.updateTrackId,likedTracksToggle:this.state.likedTracksToggle}),Object(k.jsx)(f,{recentlyPlayed:this.state.recentlyPlayed,recentlyPlayedToggle:this.state.recentlyPlayedToggle,updateTrackId:this.updateTrackId})]})]}),Object(k.jsx)("footer",{children:Object(k.jsx)(T,{showHideLikedTracks:this.state.likedTracksToggle,showTracksToggle:this.showTracksToggle,showHidePlayedTracks:this.state.recentlyPlayedToggle,showRecentlyPlayed:this.showRecentlyPlayed})})]})]})}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(Object(k.jsx)(v,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.f99a640f.chunk.js.map